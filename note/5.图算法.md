# 图算法
## 图的基本概念
- 背景：
    - 一笔画问题，手机解锁需要一笔画画出
    - 科尼斯堡问题，七座桥连接河岸和两个小岛，步行者怎么不重复不遗漏的一次走完七座桥
    - 现实中的计算机网络
    - 现实中的交通出行：北京地铁网络
    - 社交网络：微博

- 图的概念：
    - 图的定义：
        - 一个图可以表示为一个二元数组 $G=<V,E>$ ,
            - $V$ 表示非空顶点集，其元素称为顶点
            - $E$ 表示边集，其元素成为边
        - $e=<u,v>$表示一条边，其中$u\in V,v\in V,e\in E$
  
  <div align="center">
  <img src="./图的定义.svg" width="600" alt="图的定义" />
  </div> 
  
    - 相邻与关联
        - 相邻：
            - 边$(u,v)$连接的顶点$u$和 $v$ 相邻
        - 关联：
            - 边$(u,v)$和其连接的顶点 $u$ (或者 $v$ )相互关联

  <div align="center">
  <img src="./相邻与关联.svg" width="600" alt="相邻与关联" />
  </div> 
  
    - 度
        - 顶点的度
            - 顶点 $v$ 的度$deg(v)$ 是$v$关联的边数
        - 图的度
            - 图 $G=<V,R>$ 的度，是图各个顶点度的之和， $deg(G)=\sum_{v\in V}deg(v)$
  <div align="center">
  <img src="./度.svg" width="600" alt="度" />
  </div> 
    
    - 握手定义
        - 无向图的度是边数的两倍， $deg(G)=2|E|$
    - 路径
        - 图中包含一个顶点序列， $v_0,v_1,...v_k$ 称为 $v_0$ 到 $v_k$ 的路径
        - 路径中包含顶点 $v_0$ ,$v_1$,....,$v_k$ 和边 $(v_0,v_1),(v_1,v_2),...(v_{k-1},v_k)$
        - 存在路径 $<v_0,v_1,...v_k>$,则 $v_0$ 可达 $v_k$
        - 如果 $v_0,v_1,...v_k$ 互不相同，则路径是简单的
    - 环路
        - 如果路径 $<v_0,v_1,...v_k>$中，$v_0=v_k$ 且至少包含一条边， 则该路径构成环路
        - 如果 $v_1,...v_k$互不相同，则该环路是简单的
    - 无环图
        - 图中不存在环路
    - 连通
        - 如果图的任意对顶点互相可达，则称该图是连通的，反之称为非连通
    - 连通分量
        - 根据是否连通将顶点进行分组，互相可达的顶点集被称为连通分量
    - 子图
        - 如果 $V^{'}\subseteq  V,E^{'}\subseteq E$,则称图 $G{'}=<V^{'},E^{'}>$ 是图 $G$ 的一个子图
    - 生成子图
        - 如果$V^{'}=  V,E^{'}\subseteq E$,则称图 $G{'}=<V^{'},E^{'}>$ 是图 $G$ 的一个生成子图
    - 树
        - 连通无环图 $T=<V_T,E_T>$, 树有 $|V_T|-1$ 条边
    - 森林
        - 一至多棵树组成的无环图
- 图的表示
    - 邻接链表
        - 图 $G=<V,E>$ ,其邻接表由 $|V|$ 条链表的数组构成
        - 每一个顶点有一条链表，包含所有的与其相邻的顶点
            - $Adj[a]=\{b,d\},Adj[b]=\{a,c,d,f\}$
        - 空间大小$O(|V|+|E|)$
    - 邻接矩阵
        - 图 $G=<V,E>$ 的邻接矩阵由 $|V|\times |V|$的二维数组 A构成，满足
        $$A_{ij}=\begin{cases}
        1,\quad \text{(i,j)} \in E\\
        0,\quad \text{(i,j)}\notin E
        \end{cases}$$
        - 空间大小 $O(|V|^{2})$, $O(1)$ 判断是否有边

## 广度优先搜索（BFS）
- 算法思想
    - 现象启发：水滴落入水中所激起的涟漪会向邻区逐渐扩散
    - 核心思想：处理某节点的时候，一次性发现所有的相邻顶点,未处理的顶点加入等待队列
    - 队列：
        - 先来先服务：队尾加入，对首离开
        - 入队： $Q.Enqueue()$
        - 出队： $Q.Dequeue()$
    - 辅助数组：
        - color表示顶点状态
            - white:白色顶点 $u$ 是尚未被发现的，发现后直接入队 
            - black:黑色顶点 $u$ 已被处理，无需再次入队
            - gray:灰色顶点 $u$ 已加入队列，，无需再次入队
        - pred:顶点 $u$ 由 $pred[u]$ 发现
        - dist:顶点 $u$ 距离源点 $s$ 的距离

  <div align="center">
  <img src="./BFS.svg" width="600" alt="BFS" />
  </div>

- 复杂度分析
    - 算法运行时间 $O(|V|+|E|)$

## 深度优先搜索（DFS）

- 算法步骤
    - 分叉时，任选一条边进行深入
    - 无边时，后退一步找新边
    - 找到边，从新边继续深入
- 辅助数组
    - color
        - white：白色表示尚未被发现
        - black：黑色表示顶点已被处理
        - gray：正在处理，尚未完成
    - pred:顶点 $u$ 由 $pred[u]$ 发现
    - d：顶点发现时刻（变成灰色的时刻）
    - f：顶点完成时刻（变成黑色的时刻）


  <div align="center">
  <img src="./DFS.svg" width="600" alt="DFS" />
  </div>

  - 算法性质
    - 深度优先树：顶点以前驱作为祖先形成的树
    - 边的性质
        - 后向边：不是树边，但两顶点在深度优先树中是祖先后代关系
        - 对于无向图，非树边一定是后向边
    - 点的性质
        - 括号化定理： 点 $v$ 发现时刻和结束时刻构成区间 $[d[v],f[v]]$
        - 任意两点 $v,w$ 必满足以下两种情况
            - $[d[v],f[v]]$ 包含 $[d[w],f[w]]$ , $w$ 是 $v$ 后代
            - $[d[w],f[w]]$ 包含 $[d[v],f[v]]$ , $v$ 是 $w$ 后代
            - $[d[w],f[w]]$ 和 $[d[v],f[v]]$ 完全不重合， $v$ 和 $w$ 均不是对方的后代

    - 路径性质
        - 白色路径定理
            - 在深度优先树中， 顶点 $v$ 是 $w$ 的祖先 等价于在 $v$ 被发现之前，从 $v$ 到 $w$ 存在全为白色的顶点构成的路径

## 有向图的深度优先搜索
- 算法步骤
    - 